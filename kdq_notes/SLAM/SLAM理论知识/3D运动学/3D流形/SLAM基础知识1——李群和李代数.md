---
author: KDQ
tags:
  - SLAM
  - 李群
  - 李代数
  - 流形
email: kdq1290@gmail.com
date: 2025/06/13
---
## 一. 背景
### 1. SLAM中为什么要引入李群和李代数的概念
#### 1.1 线性空间和流形空间的特性
为什么在SLAM中定义状态时候要引入李群和李代数的作为姿态变量的参数化方法，主要原因就是姿态变量不在线性空间，而是在流形空间。
对于线性空间$\boldsymbol{R}^n$满足：
	1）加法封闭性：$a+ b \in\boldsymbol{R}^n$
	2)	 交换律：$a+b = b+a$
但是对于流形空间（局部线性，全局非线性的空间），完全不存在线性空间的上述两条性质。比如我们用旋转矩阵R来表示姿态SO(3)(特殊正交群)，则有: 
	$SO(3) = \{{R\in \boldsymbol{R}^{3\times3}|R^T R=\boldsymbol{I},det(R) = 1}\}$
很明显： $R_1 + R_2 \notin SO(3)$
在比如用四元数来表示旋转，则有： 
	$\boldsymbol{S^3} = \{{ q\in \boldsymbol{R}^4 | \left \|q\right\|=1} \}$
很明显：$q_1 + q_2 \notin \boldsymbol{S^3}$
这就带来一个问题，我们在进行状态更新$x_{k} = x_{k-1} + \delta x$ ，我们无法保证姿态变量还能在流形空间（即表示正确的旋转姿态），也无法像线性空间这样$F=\frac{\partial f(x)}{\partial x}=\frac{f(x+\delta x)-f(x)}{\delta x}$ 去定义Jacbian矩阵，都是因为流形空间不存在类似线性空间具备封闭性的加法。
#### 1.2 使用四元数、欧拉角参数化的弊端
##### 1.2.1四元数参数化
旋转姿态实际自由度仅为3，我们使用单位四元数虽然有四个数但是自由度也是3，每次更新的时候都需要归一化四元数:
$$
g(q) = \frac{q}{\|q\|}
$$
理论上我们应该对协方差矩阵进行更新，即：
$$
\overline P = J_{g}PJ_{g}^T
$$
如果不更新协方差矩阵，则该协方差并不能准确的描述姿态的不确定度，因为shang shishangshi


采用旋转矩阵和四元数都需要引入归一化操作来确保姿态在流形空间，这种强制的非线性操作也必须对协方差进行相应的变换，因为原协方差维持的是对未归一化状态的不确定度。

 
